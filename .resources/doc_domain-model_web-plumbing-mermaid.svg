<svg id="mermaid-0" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="516" style="max-width: 771.75px;" viewBox="-55 -20 771.75 516"><style>#mermaid-0{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-0 .error-icon{fill:#552222;}#mermaid-0 .error-text{fill:#552222;stroke:#552222;}#mermaid-0 .edge-thickness-normal{stroke-width:2px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:#333333;stroke:#333333;}#mermaid-0 .marker.cross{stroke:#333333;}#mermaid-0 svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-0 g.classGroup text{fill:#9370DB;fill:#131300;stroke:none;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:10px;}#mermaid-0 g.classGroup text .title{font-weight:bolder;}#mermaid-0 .classTitle{font-weight:bolder;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-0 .divider{stroke:#9370DB;stroke:1;}#mermaid-0 g.clickable{cursor:pointer;}#mermaid-0 g.classGroup rect{fill:#ECECFF;stroke:#9370DB;}#mermaid-0 g.classGroup line{stroke:#9370DB;stroke-width:1;}#mermaid-0 .classLabel .box{stroke:none;stroke-width:0;fill:#ECECFF;opacity:0.5;}#mermaid-0 .classLabel .label{fill:#9370DB;font-size:10px;}#mermaid-0 .relation{stroke:#333333;stroke-width:1;fill:none;}#mermaid-0 .dashed-line{stroke-dasharray:3;}#mermaid-0 #compositionStart,#mermaid-0 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #compositionEnd,#mermaid-0 .composition{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #dependencyStart,#mermaid-0 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #dependencyStart,#mermaid-0 .dependency{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #extensionStart,#mermaid-0 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #extensionEnd,#mermaid-0 .extension{fill:#333333 !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #aggregationStart,#mermaid-0 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 #aggregationEnd,#mermaid-0 .aggregation{fill:#ECECFF !important;stroke:#333333 !important;stroke-width:1;}#mermaid-0 .edgeTerminals{font-size:11px;}#mermaid-0:root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g></g><defs><marker id="extensionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 1,7 L18,13 V 1 Z"></path></marker></defs><defs><marker id="extensionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 1,1 V 13 L18,7 Z"></path></marker></defs><defs><marker id="compositionStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="compositionEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="aggregationEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyStart" class="extension" refX="0" refY="7" markerWidth="190" markerHeight="240" orient="auto"><path d="M 5,7 L9,13 L1,7 L9,1 Z"></path></marker></defs><defs><marker id="dependencyEnd" refX="19" refY="7" markerWidth="20" markerHeight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g id="classid-Server-0" class="classGroup" transform="translate(282.08984375,418 )"><rect x="0" y="0" width="98.625" height="58" class=" "></rect><text y="15" x="0"><tspan class="title" x="33.6875">Server</tspan></text><line x1="0" y1="21" y2="21" x2="98.625"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">+StorageBackend</tspan></text><line x1="0" y1="37" y2="37" x2="98.625"></line><text x="5" y="52" fill="white" class="classText"><tspan x="5">+ServerHTTP(w, r)</tspan></text></g><g id="classid-storage_Backend-1" class="classGroup" transform="translate(38.48046875,90 )"><rect x="0" y="0" width="197.96875" height="177" class=" "></rect><text y="15" x="0"><tspan x="74.0234375">«interface»</tspan><tspan class="title" dy="10" x="57.296875">storage_Backend</tspan></text><line x1="0" y1="31" y2="31" x2="197.96875"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="197.96875"></line><text x="5" y="51" fill="white" class="classText"><tspan x="5">Initialise() : error</tspan><tspan x="5" dy="10">StartTransaction() : error</tspan><tspan x="5" dy="10">CommitTransaction() : error</tspan><tspan x="5" dy="10">RollBackTransaction() : error</tspan><tspan x="5" dy="10">NewSession() (Session, error)</tspan><tspan x="5" dy="10">GetSession(SessionID) (Session, error)</tspan><tspan x="5" dy="10">StoreSession(SessionID, Session) : error</tspan><tspan x="5" dy="10">NewPlayer() (Player, error)</tspan><tspan x="5" dy="10">GetPlayer(PlayerID) (Player, error)</tspan><tspan x="5" dy="10">StorePlayer(PlayerID, Player) : error</tspan><tspan x="5" dy="10">NewMatch() (Match, error)</tspan><tspan x="5" dy="10">GetMatch(MatchID) (Match, error)</tspan><tspan x="5" dy="10">StoreMatch(MatchID, Match) : error</tspan></text></g><g id="classid-storage_Dory-2" class="classGroup" transform="translate(0,317 )"><rect x="0" y="0" width="112.15625" height="51" class=" "></rect><text y="15" x="0"><tspan class="title" x="23.625">storage_Dory</tspan></text><line x1="0" y1="21" y2="21" x2="112.15625"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">sync.RWMutex</tspan><tspan x="5" dy="10">aBunchOfMaps []map</tspan></text><line x1="0" y1="47" y2="47" x2="112.15625"></line><text x="5" y="62" fill="white" class="classText"></text></g><g id="classid-storage_sql_Backend-3" class="classGroup" transform="translate(162.15625,322 )"><rect x="0" y="0" width="113.390625" height="41" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">storage_sql_Backend</tspan></text><line x1="0" y1="21" y2="21" x2="113.390625"></line><text x="5" y="31" fill="white" class="classText"><tspan x="5">connection *sql.Db</tspan></text><line x1="0" y1="37" y2="37" x2="113.390625"></line><text x="5" y="52" fill="white" class="classText"></text></g><g id="classid-Handler-4" class="classGroup" transform="translate(401.75390625,158.5 )"><rect x="0" y="0" width="96.828125" height="40" class=" "></rect><text y="15" x="0"><tspan x="23.453125">«interface»</tspan><tspan class="title" dy="10" x="29.734375">Handler</tspan></text><line x1="0" y1="31" y2="31" x2="96.828125"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="96.828125"></line><text x="5" y="51" fill="white" class="classText"></text></g><g id="classid-web_HomeHandler-5" class="classGroup" transform="translate(325.546875,327.5 )"><rect x="0" y="0" width="101.140625" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">web_HomeHandler</tspan></text><line x1="0" y1="21" y2="21" x2="101.140625"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="101.140625"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-web_MoveHandler-6" class="classGroup" transform="translate(597.828125,327.5 )"><rect x="0" y="0" width="98.921875" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">web_MoveHandler</tspan></text><line x1="0" y1="21" y2="21" x2="98.921875"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="98.921875"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-Provider-7" class="classGroup" transform="translate(529.6875,0 )"><rect x="0" y="0" width="100.171875" height="40" class=" "></rect><text y="15" x="0"><tspan x="25.125">«interface»</tspan><tspan class="title" dy="10" x="29.734375">Provider</tspan></text><line x1="0" y1="31" y2="31" x2="100.171875"></line><text x="5" y="41" fill="white" class="classText"></text><line x1="0" y1="36" y2="36" x2="100.171875"></line><text x="5" y="51" fill="white" class="classText"></text></g><g id="classid-webProvider-8" class="classGroup" transform="translate(476.6875,327.5 )"><rect x="0" y="0" width="71.140625" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">webProvider</tspan></text><line x1="0" y1="21" y2="21" x2="71.140625"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="71.140625"></line><text x="5" y="41" fill="white" class="classText"></text></g><g id="classid-teststubProvider-9" class="classGroup" transform="translate(574.87890625,163.5 )"><rect x="0" y="0" width="89.578125" height="30" class=" "></rect><text y="15" x="0"><tspan class="title" x="5">teststubProvider</tspan></text><line x1="0" y1="21" y2="21" x2="89.578125"></line><text x="5" y="31" fill="white" class="classText"></text><line x1="0" y1="26" y2="26" x2="89.578125"></line><text x="5" y="41" fill="white" class="classText"></text></g><path d="M38.48046875,243.6421258861634L26.233723958333332,251.70177157180282C13.986979166666666,259.76141725744225,-10.506510416666666,275.88070862872115,-22.753255208333332,292.35702098102723C-35,308.8333333333333,-35,325.6666666666667,-35,342.5C-35,359.3333333333333,-35,376.1666666666667,17.848307291666668,392.37206242426186C70.69661458333333,408.5774581818569,176.39322916666666,424.1549163637139,229.24153645833334,431.94364545464236L282.08984375,439.73237454557085" id="edge0" class="relation" marker-start="url(#dependencyStart)"></path><path d="M74.00471503303964,267L71.01695002753304,271.1666666666667C68.02918502202643,275.3333333333333,62.05365501101321,283.6666666666667,59.06589000550661,292C56.078125,300.3333333333333,56.078125,308.6666666666667,56.078125,312.8333333333333L56.078125,317" id="edge1" class="relation" marker-start="url(#extensionStart)"></path><path d="M200.92497246696036,267L203.91273747246694,271.1666666666667C206.90050247797356,275.3333333333333,212.87603248898677,283.6666666666667,215.86379749449338,292.8333333333333C218.8515625,302,218.8515625,312,218.8515625,317L218.8515625,322" id="edge2" class="relation" marker-start="url(#extensionStart)"></path><path d="M437.119372935022,198.5L426.952342029185,214.08333333333334C416.78531112334804,229.66666666666666,396.451249311674,260.8333333333333,386.284218405837,282.3333333333333C376.1171875,303.8333333333333,376.1171875,315.6666666666667,376.1171875,321.5833333333333L376.1171875,327.5" id="edge3" class="relation" marker-start="url(#extensionStart)"></path><path d="M456.8646923182819,198.5L462.0825560985683,214.08333333333334C467.3004198788546,229.66666666666666,477.73614743942727,260.8333333333333,501.59645397961464,282.3333333333333C525.4567605198021,303.8333333333333,562.741646039604,315.6666666666667,581.384088799505,321.5833333333333L600.026531559406,327.5" id="edge4" class="relation" marker-start="url(#extensionStart)"></path><path d="M376.1171875,357.5L376.1171875,363.4166666666667C376.1171875,369.3333333333333,376.1171875,381.1666666666667,372.66696807484567,391.25C369.2167486496914,401.3333333333333,362.31630979938274,409.6666666666667,358.8660903742284,413.8333333333333L355.4158709490741,418" id="edge5" class="relation" marker-start="url(#dependencyStart)"></path><path d="M647.2890625,357.5L647.2890625,363.4166666666667C647.2890625,369.3333333333333,647.2890625,381.1666666666667,602.8600260416666,394.67835973470847C558.4309895833334,408.1900528027502,469.5729166666667,423.3801056055004,425.1438802083333,430.9751320068755L380.71484375,438.57015840825056" id="edge6" class="relation" marker-start="url(#dependencyStart)"></path><path d="M529.6875,37.39021670333645L516.4342447916666,41.991847252780374C503.1809895833333,46.5934778022243,476.6744791666667,55.79673890111215,463.4212239583333,75.98170278388942C450.16796875,96.16666666666667,450.16796875,127.33333333333333,450.16796875,142.91666666666666L450.16796875,158.5" id="edge7" class="relation" marker-start="url(#dependencyStart)"></path><path d="M562.0425347222222,40L558.3485966435185,44.166666666666664C554.6546585648148,48.333333333333336,547.2667824074074,56.666666666666664,543.5728443287037,79.75C539.87890625,102.83333333333333,539.87890625,140.66666666666666,539.87890625,178.5C539.87890625,216.33333333333334,539.87890625,254.16666666666666,536.6427715037129,279C533.4066367574258,303.8333333333333,526.9343672648515,315.6666666666667,523.6982325185644,321.5833333333333L520.4620977722773,327.5" id="edge8" class="relation" marker-start="url(#extensionStart)"></path><path d="M597.5043402777778,40L601.1982783564815,44.166666666666664C604.8922164351852,48.333333333333336,612.2800925925926,56.666666666666664,615.9740306712963,77.25C619.66796875,97.83333333333333,619.66796875,130.66666666666666,619.66796875,147.08333333333334L619.66796875,163.5" id="edge9" class="relation" marker-start="url(#extensionStart)"></path><path d="M236.44921875,239.5790434930343L250.60807291666666,248.3158695775286C264.7669270833333,257.05269566202287,293.0846354166667,274.52634783101144,333.1243489583333,290.1112008910885C373.1640625,305.6960539511656,424.92578125,319.3921079023312,450.806640625,326.240134877914L476.6875,333.0881618534968" id="edge10" class="relation" marker-start="url(#dependencyStart)"></path><path d="M512.2578125,357.5L512.2578125,363.4166666666667C512.2578125,369.3333333333333,512.2578125,381.1666666666667,490.333984375,393.629371044731C468.41015625,406.0920754227953,424.5625,419.18415084559064,402.638671875,425.73018855698825L380.71484375,432.2762262683859" id="edge11" class="relation" marker-start="url(#dependencyStart)"></path></svg>